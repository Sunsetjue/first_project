function Auth(){this.entire=$(".entire"),this.sms=$(".sms-captcha-btn")}console.log("auth"),Auth.prototype.run=function(){var t=this;t.listen_show_hide(),t.switch(),t.listen_sign_event(),t.listen_img(),t.listen_sign_up_event(),t.listen_siup_event()},Auth.prototype.show_event=function(){this.entire.show()},Auth.prototype.hide_event=function(){this.entire.hide()},Auth.prototype.switch=function(){$(".switch").click(function(){var t=$(".box3"),n=t.css("left");(n=parseInt(n))<0?t.animate({left:0}):t.animate({left:-400})})},Auth.prototype.listen_show_hide=function(){var t=this,n=$(".auth-logup-button"),e=$(".auth-login-button"),s=$(".closed"),i=$(".box3");e.click(function(){t.show_event(),i.css({left:0})}),n.click(function(){t.show_event(),i.css({left:-400})}),s.click(function(){t.hide_event()})},Auth.prototype.listen_img=function(){$(".img_captcha").click(function(){$(".img_captcha").attr("src","/account/img_captcha/?random="+Math.random())})},Auth.prototype.send_message=function(){var t=this;messageBox.showSuccess("短信验证码发送成功！"),t.sms.addClass("display");var n=60,e=setInterval(function(){t.sms.unbind("click"),t.sms.text(n+" (s)"),(n-=1)<=0&&(clearInterval(e),t.sms.removeClass("display"),t.sms.text("发送验证码"),t.listen_sign_up_event())},1e3)},Auth.prototype.listen_sign_up_event=function(){var n=this,e=$(".sign-up").find("input[name=telephone]");n.sms.click(function(){var t=e.val();t||messageBox.showInfo("请输入电话号码！"),myajax.get({url:"/account/sms_captcha/",data:{telephone:t},success:function(t){200===t.code&&n.send_message()}})})},Auth.prototype.listen_siup_event=function(t){var n=$(".sign-up"),c=n.find("input[name='telephone']"),u=n.find("input[name='password1']"),p=n.find("input[name='password2']"),l=n.find("input[name='username']"),h=n.find("input[name='img_captcha']"),r=n.find("input[name='sms_captcha']");n.find(".submit").click(function(t){t.preventDefault();var n=c.val(),e=l.val(),s=u.val(),i=p.val(),a=h.val(),o=r.val();myajax.post({url:"/account/register/",data:{telephone:n,username:e,password1:s,password2:i,img_captcha:a,sms_captcha:o},success:function(t){window.location.reload()}})})},Auth.prototype.listen_sign_event=function(){var s=this,t=$(".sign-in"),i=t.find("input[name='telephone']"),a=t.find("input[name='password']"),o=t.find("input[name='remember']");t.find(".submit").click(function(){var t=i.val(),n=a.val(),e=o.prop("checked");myajax.post({url:"/account/login/",data:{telephone:t,password:n,remember:e?1:0},success:function(t){200===t.code&&(s.hide_event(),window.location.reload()),console.log(t)}})})},$(function(){(new Auth).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGguanMiXSwibmFtZXMiOlsiQXV0aCIsInRoaXMiLCJlbnRpcmUiLCIkIiwic21zIiwiY29uc29sZSIsImxvZyIsInByb3RvdHlwZSIsInJ1biIsInNlbGYiLCJsaXN0ZW5fc2hvd19oaWRlIiwic3dpdGNoIiwibGlzdGVuX3NpZ25fZXZlbnQiLCJsaXN0ZW5faW1nIiwibGlzdGVuX3NpZ25fdXBfZXZlbnQiLCJsaXN0ZW5fc2l1cF9ldmVudCIsInNob3dfZXZlbnQiLCJzaG93IiwiaGlkZV9ldmVudCIsImhpZGUiLCJjbGljayIsImJveDMiLCJib3hfbGVmdCIsImNzcyIsInBhcnNlSW50IiwiYW5pbWF0ZSIsImxlZnQiLCJsb2d1cCIsImxvZ2luIiwiY2xvc2UiLCJhdHRyIiwiTWF0aCIsInJhbmRvbSIsInNlbmRfbWVzc2FnZSIsIm1lc3NhZ2VCb3giLCJzaG93U3VjY2VzcyIsImFkZENsYXNzIiwiY291bnQiLCJ0aW1lciIsInNldEludGVydmFsIiwidW5iaW5kIiwidGV4dCIsImNsZWFySW50ZXJ2YWwiLCJyZW1vdmVDbGFzcyIsInNpZ25fdXBfdGVsZXBob25lIiwiZmluZCIsInRlbGVwaG9uZSIsInZhbCIsInNob3dJbmZvIiwibXlhamF4IiwiZ2V0IiwidXJsIiwiZGF0YSIsInN1Y2Nlc3MiLCJyZXN1bHQiLCJldmVudCIsInNpZ25fdXAiLCJzaWduX3VwX3Bhc3N3b3JkMSIsInNpZ25fdXBfcGFzc3dvcmQyIiwic2lnbl91cF91c2VybmFtZSIsInNpZ25fdXBfaW1nX2NhcHRjaGEiLCJzaWduX3VwX3Ntc19jYXB0Y2hhIiwicHJldmVudERlZmF1bHQiLCJ1c2VybmFtZSIsInBhc3N3b3JkMSIsInBhc3N3b3JkMiIsImltZ19jYXB0Y2hhIiwic21zX2NhcHRjaGEiLCJwb3N0Iiwid2luZG93IiwibG9jYXRpb24iLCJyZWxvYWQiLCJzaWduX2luIiwic2lnbl9pbl90ZWxlcGhvbmUiLCJzaWduX2luX3Bhc3N3b3JkIiwic2lnbl9pbl9yZW1l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LE1BRXRDRSxPQUFPbUIsS0FBSyxDQUNSakIsSUFBTyxxQkFDUEMsS0FBUSxDQUNKTixVQUFhQSxFQUNiaUIsU0FBWUEsRUFDWkMsVUFBYUEsRUFDYkMsVUFBYUEsRUFDYkMsWUFBZUEsRUFDZkMsWUFBZUEsR0FFbkJkLFFBQVcsU0FBVUMsR0FDakJlLE9BQU9DLFNBQVNDLGVBTWhDdkUsS0FBS08sVUFBVUssa0JBQW9CLFdBQy9CLElBQUlILEVBQU9SLEtBRVB1RSxFQUFVckUsRUFBRSxZQUNac0UsRUFBb0JELEVBQVEzQixLQUFLLDJCQUNqQzZCLEVBQW1CRixFQUFRM0IsS0FBSywwQkFDaEM4QixFQUFtQkgsRUFBUTNCLEtBQUssMEJBQ3ZCMkIsRUFBUTNCLEtBQUssV0FFbkJ6QixNQUFNLFdBQ1QsSUFBSTBCLEVBQVkyQixFQUFrQjFCLE1BQzlCNkIsRUFBV0YsRUFBaUIzQixNQUM1QjhCLEVBQVdGLEVBQWlCRyxLQUFLLFdBRXJDN0IsT0FBT21CLEtBQUssQ0FDUmpCLElBQU8sa0JBQ1BDLEtBQVEsQ0FDSk4sVUFBYUEsRUFDYjhCLFNBQVlBLEVBQ1pDLFNBQVlBLEVBQVMsRUFBRSxHQUUzQnhCLFFBQVcsU0FBVUMsR0FDTSxNQUFuQkEsRUFBYSxPQUNiN0MsRUFBS1MsYUFDTG1ELE9BQU9DLFNBQVNDLFVBRXBCbEUsUUFBUUMsSUFBSWdELFNBTzVCbkQsRUFBRSxZQUNTLElBQUlILE1BQ1ZRIiwiZmlsZSI6ImF1dGgubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc29sZS5sb2coXCJhdXRoXCIpO1xyXG5cclxuZnVuY3Rpb24gQXV0aCgpIHtcclxuICAgIHRoaXMuZW50aXJlID0gJChcIi5lbnRpcmVcIik7XHJcbiAgICB0aGlzLnNtcyA9ICQoXCIuc21zLWNhcHRjaGEtYnRuXCIpO1xyXG59XHJcblxyXG5BdXRoLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLmxpc3Rlbl9zaG93X2hpZGUoKTtcclxuICAgIHNlbGYuc3dpdGNoKCk7XHJcbiAgICBzZWxmLmxpc3Rlbl9zaWduX2V2ZW50KCk7XHJcbiAgICBzZWxmLmxpc3Rlbl9pbWcoKTtcclxuICAgIHNlbGYubGlzdGVuX3NpZ25fdXBfZXZlbnQoKTtcclxuICAgIHNlbGYubGlzdGVuX3NpdXBfZXZlbnQoKTtcclxufTtcclxuXHJcbkF1dGgucHJvdG90eXBlLnNob3dfZXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLmVudGlyZS5zaG93KClcclxufTtcclxuXHJcbkF1dGgucHJvdG90eXBlLmhpZGVfZXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLmVudGlyZS5oaWRlKClcclxufTtcclxuXHJcbi8vIOeCueWHu+WunueOsOadpeWbnuWIh+aNoueZu+mZhuWSjOazqOWGjOmhtemdolxyXG5BdXRoLnByb3RvdHlwZS5zd2l0Y2ggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgYnV0dG9uID0gJChcIi5zd2l0Y2hcIik7XHJcbiAgICBidXR0b24uY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBib3gzID0gJChcIi5ib3gzXCIpO1xyXG4gICAgICAgIHZhciBib3hfbGVmdCA9IGJveDMuY3NzKFwibGVmdFwiKTtcclxuICAgICAgICBib3hfbGVmdCA9IHBhcnNlSW50KGJveF9sZWZ0KTtcclxuICAgICAgICBpZiAoYm94X2xlZnQgPCAwKSB7XHJcbiAgICAgICAgICAgIGJveDMuYW5pbWF0ZSh7XCJsZWZ0XCI6IDB9KVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGJveDMuYW5pbWF0ZSh7XCJsZWZ0XCI6IC00MDB9KVxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbn07XHJcblxyXG4vLyDlrp7njrDngrnlh7vms6jlhozlvLnlh7rms6jlhozpnaIg54K55Ye755m76ZmG5by55Ye655m76ZmG6Z2i5Lul5Y+K54K55Ye7WOmakOiXj+aooeaAgeWvueivneahhlxyXG5BdXRoLnByb3RvdHlwZS5saXN0ZW5fc2hvd19oaWRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdmFyIGxvZ3VwID0gJChcIi5hdXRoLWxvZ3VwLWJ1dHRvblwiKTtcclxuICAgIHZhciBsb2dpbiA9ICQoXCIuYXV0aC1sb2dpbi1idXR0b25cIik7XHJcbiAgICB2YXIgY2xvc2UgPSAkKFwiLmNsb3NlZFwiKTtcclxuICAgIHZhciBib3gzID0gJChcIi5ib3gzXCIpO1xyXG4gICAgbG9naW4uY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNlbGYuc2hvd19ldmVudCgpO1xyXG4gICAgICAgIGJveDMuY3NzKHtcImxlZnRcIjogMH0pXHJcbiAgICB9KTtcclxuICAgIGxvZ3VwLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzZWxmLnNob3dfZXZlbnQoKTtcclxuICAgICAgICBib3gzLmNzcyh7XCJsZWZ0XCI6IC00MDB9KVxyXG4gICAgfSk7XHJcbiAgICBjbG9zZS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2VsZi5oaWRlX2V2ZW50KClcclxuICAgIH0pXHJcbn07XHJcblxyXG4vLyDms6jlhozpobXpnaLlm77niYfnmoTliLfmlrBcclxuQXV0aC5wcm90b3R5cGUubGlzdGVuX2ltZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICQoXCIuaW1nX2NhcHRjaGFcIikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQoXCIuaW1nX2NhcHRjaGFcIikuYXR0cihcInNyY1wiLCBcIi9hY2NvdW50L2ltZ19jYXB0Y2hhL1wiICsgXCI/cmFuZG9tPVwiICsgTWF0aC5yYW5kb20oKSlcclxuICAgIH0pXHJcbn07XHJcblxyXG4vLyDlj5HpgIHnn63kv6Hkuovku7blgJLorqHml7bku6Xlj4rlm57lpI3moLflvI/kuovku7ZcclxuQXV0aC5wcm90b3R5cGUuc2VuZF9tZXNzYWdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgIG1lc3NhZ2VCb3guc2hvd1N1Y2Nlc3MoXCLnn63kv6Hpqozor4HnoIHlj5HpgIHmiJDlip/vvIFcIik7XHJcbiAgICBzZWxmLnNtcy5hZGRDbGFzcyhcImRpc3BsYXlcIik7XHJcblxyXG4gICAgdmFyIGNvdW50ID0gNjA7XHJcbiAgICB2YXIgdGltZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2VsZi5zbXMudW5iaW5kKFwiY2xpY2tcIik7XHJcbiAgICAgICAgc2VsZi5zbXMudGV4dChjb3VudCArIFwiIChzKVwiKTtcclxuICAgICAgICBjb3VudCAtPSAxO1xyXG4gICAgICAgIGlmIChjb3VudCA8PSAwKSB7XHJcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXIpO1xyXG4gICAgICAgICAgICBzZWxmLnNtcy5yZW1vdmVDbGFzcyhcImRpc3BsYXlcIik7XHJcbiAgICAgICAgICAgIHNlbGYuc21zLnRleHQoXCLlj5HpgIHpqozor4HnoIFcIik7XHJcbiAgICAgICAgICAgIHNlbGYubGlzdGVuX3NpZ25fdXBfZXZlbnQoKVxyXG4gICAgICAgIH1cclxuICAgICAgICB9LDEwMDApXHJcbn07XHJcblxyXG4vLyDms6jlhozpobXpnaLms6jlhozlkoznn63kv6Hpqozor4HnoIHnmoTlrp7njrBcclxuQXV0aC5wcm90b3R5cGUubGlzdGVuX3NpZ25fdXBfZXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB2YXIgc2lnbl91cCA9ICQoXCIuc2lnbi11cFwiKTtcclxuICAgIHZhciBzaWduX3VwX3RlbGVwaG9uZSA9IHNpZ25fdXAuZmluZChcImlucHV0W25hbWU9dGVsZXBob25lXVwiKTtcclxuICAgIHNlbGYuc21zLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgdGVsZXBob25lID0gc2lnbl91cF90ZWxlcGhvbmUudmFsKCk7XHJcbiAgICAgICAgaWYgKCF0ZWxlcGhvbmUpIHtcclxuICAgICAgICAgICAgbWVzc2FnZUJveC5zaG93SW5mbyhcIuivt+i+k+WFpeeUteivneWPt+egge+8gVwiKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbXlhamF4LmdldCh7XHJcbiAgICAgICAgICAgIFwidXJsXCI6ICcvYWNjb3VudC9zbXNfY2FwdGNoYS8nLFxyXG4gICAgICAgICAgICBcImRhdGFcIjoge1xyXG4gICAgICAgICAgICAgICAgXCJ0ZWxlcGhvbmVcIjogdGVsZXBob25lXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIFwic3VjY2Vzc1wiOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0W1wiY29kZVwiXSA9PT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5zZW5kX21lc3NhZ2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9KVxyXG4gICAgfSlcclxufTtcclxuXHJcbkF1dGgucHJvdG90eXBlLmxpc3Rlbl9zaXVwX2V2ZW50ID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICB2YXIgc2lnbl91cCA9ICQoXCIuc2lnbi11cFwiKTtcclxuICAgIHZhciBzaWduX3VwX3RlbGVwaG9uZSA9IHNpZ25fdXAuZmluZChcImlucHV0W25hbWU9J3RlbGVwaG9uZSddXCIpO1xyXG4gICAgdmFyIHNpZ25fdXBfcGFzc3dvcmQxPSBzaWduX3VwLmZpbmQoXCJpbnB1dFtuYW1lPSdwYXNzd29yZDEnXVwiKTtcclxuICAgIHZhciBzaWduX3VwX3Bhc3N3b3JkMiA9IHNpZ25fdXAuZmluZChcImlucHV0W25hbWU9J3Bhc3N3b3JkMiddXCIpO1xyXG4gICAgdmFyIHNpZ25fdXBfdXNlcm5hbWUgPSBzaWduX3VwLmZpbmQoXCJpbnB1dFtuYW1lPSd1c2VybmFtZSddXCIpO1xyXG4gICAgdmFyIHNpZ25fdXBfaW1nX2NhcHRjaGEgPSBzaWduX3VwLmZpbmQoXCJpbnB1dFtuYW1lPSdpbWdfY2FwdGNoYSddXCIpO1xyXG4gICAgdmFyIHNpZ25fdXBfc21zX2NhcHRjaGEgPSBzaWduX3VwLmZpbmQoXCJpbnB1dFtuYW1lPSdzbXNfY2FwdGNoYSddXCIpO1xyXG4gICAgdmFyIHN1Ym1pdCA9IHNpZ25fdXAuZmluZChcIi5zdWJtaXRcIik7XHJcblxyXG4gICAgc3VibWl0LmNsaWNrKGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgdmFyIHRlbGVwaG9uZSA9IHNpZ25fdXBfdGVsZXBob25lLnZhbCgpO1xyXG4gICAgICAgIHZhciB1c2VybmFtZSA9IHNpZ25fdXBfdXNlcm5hbWUudmFsKCk7XHJcbiAgICAgICAgdmFyIHBhc3N3b3JkMT0gc2lnbl91cF9wYXNzd29yZDEudmFsKCk7XHJcbiAgICAgICAgdmFyIHBhc3N3b3JkMiA9IHNpZ25fdXBfcGFzc3dvcmQyLnZhbCgpO1xyXG4gICAgICAgIHZhciBpbWdfY2FwdGNoYSA9IHNpZ25fdXBfaW1nX2NhcHRjaGEudmFsKCk7XHJcbiAgICAgICAgdmFyIHNtc19jYXB0Y2hhID0gc2lnbl91cF9zbXNfY2FwdGNoYS52YWwoKTtcclxuXHJcbiAgICAgICAgbXlhamF4LnBvc3Qoe1xyXG4gICAgICAgICAgICBcInVybFwiOiAnL2FjY291bnQvcmVnaXN0ZXIvJyxcclxuICAgICAgICAgICAgXCJkYXRhXCI6IHtcclxuICAgICAgICAgICAgICAgIFwidGVsZXBob25lXCI6IHRlbGVwaG9uZSxcclxuICAgICAgICAgICAgICAgIFwidXNlcm5hbWVcIjogdXNlcm5hbWUsXHJcbiAgICAgICAgICAgICAgICBcInBhc3N3b3JkMVwiOiBwYXNzd29yZDEsXHJcbiAgICAgICAgICAgICAgICBcInBhc3N3b3JkMlwiOiBwYXNzd29yZDIsXHJcbiAgICAgICAgICAgICAgICBcImltZ19jYXB0Y2hhXCI6IGltZ19jYXB0Y2hhLFxyXG4gICAgICAgICAgICAgICAgXCJzbXNfY2FwdGNoYVwiOiBzbXNfY2FwdGNoYVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBcInN1Y2Nlc3NcIjogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfSlcclxufTtcclxuXHJcbkF1dGgucHJvdG90eXBlLmxpc3Rlbl9zaWduX2V2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgLy8g5b6X5Yiw55m76ZmG5qGG55qE55So5oi35omA6L6T5YWl55qE5YC8XHJcbiAgICB2YXIgc2lnbl9pbiA9ICQoXCIuc2lnbi1pblwiKTtcclxuICAgIHZhciBzaWduX2luX3RlbGVwaG9uZSA9IHNpZ25faW4uZmluZChcImlucHV0W25hbWU9J3RlbGVwaG9uZSddXCIpO1xyXG4gICAgdmFyIHNpZ25faW5fcGFzc3dvcmQgPSBzaWduX2luLmZpbmQoXCJpbnB1dFtuYW1lPSdwYXNzd29yZCddXCIpO1xyXG4gICAgdmFyIHNpZ25faW5fcmVtZW1iZXIgPSBzaWduX2luLmZpbmQoXCJpbnB1dFtuYW1lPSdyZW1lbWJlciddXCIpO1xyXG4gICAgdmFyIHN1Ym1pdCA9IHNpZ25faW4uZmluZChcIi5zdWJtaXRcIik7XHJcblxyXG4gICAgc3VibWl0LmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgdGVsZXBob25lID0gc2lnbl9pbl90ZWxlcGhvbmUudmFsKCk7XHJcbiAgICAgICAgdmFyIHBhc3N3b3JkID0gc2lnbl9pbl9wYXNzd29yZC52YWwoKTtcclxuICAgICAgICB2YXIgcmVtZW1iZXIgPSBzaWduX2luX3JlbWVtYmVyLnByb3AoXCJjaGVja2VkXCIpO1xyXG5cclxuICAgICAgICBteWFqYXgucG9zdCh7XHJcbiAgICAgICAgICAgICd1cmwnOiAnL2FjY291bnQvbG9naW4vJyxcclxuICAgICAgICAgICAgJ2RhdGEnOiB7XHJcbiAgICAgICAgICAgICAgICAndGVsZXBob25lJzogdGVsZXBob25lLFxyXG4gICAgICAgICAgICAgICAgJ3Bhc3N3b3JkJzogcGFzc3dvcmQsXHJcbiAgICAgICAgICAgICAgICAncmVtZW1iZXInOiByZW1lbWJlcj8xOjBcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ3N1Y2Nlc3MnOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0W1wiY29kZVwiXSA9PT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5oaWRlX2V2ZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOyAvL+WmguaenOeZu+mZhuaIkOWKnyDph43mlrDliqDovb3pobXpnaJcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG5cclxuJChmdW5jdGlvbiAoKSB7XHJcbiAgIHZhciBzID0gbmV3IEF1dGgoKTtcclxuICAgcy5ydW4oKTtcclxufSk7Il19
