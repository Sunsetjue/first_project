function ClassA(){console.log("hello songyue"),this.love="I love SongYue"}console.log("hello world"),ClassA.prototype.deep=function(){console.log("I love SongYue very much")};var a=new ClassA;function Border(){console.log("search")}function FastNews(){this.detail1=$(".detail1"),this.detail2=$(".detail2"),this.fast_news_detail1=$(".fast_news_detail1"),this.fast_news_detail2=$(".fast_news_detail2")}function ClickNavigation(){}function LoginIn(){this.login=$(".login"),this.more_box=$(".more-box")}function ClickNews(){this.news_strip=$(".news_strip"),this.span=this.news_strip.children("span"),this.category=0,this.page=2}function CarouselMap(){console.log("轮播图开始了"),this.content_left=750,this.carousel_circle_width=15,this.carousel_circle_height=15,this.carousel_circle_marginLeft=16,this.map=$(".carousel_map"),this.left_arrow=$(".left_arrow"),this.right_arrow=$(".right_arrow"),this.carousel_ul=$("#carousel_ul"),this.carousel_circle_ul=$(".carousel_circle_ul"),this.ul_li=this.carousel_ul.children("li"),this.li_count=this.ul_li.length,this.i=0}console.log(a.love),a.deep(),Border.prototype.move=function(){var t=$("#border1");t.hover(function(){console.log("aaa"),t.css({background:"#ff2600",border:"1px solid #ff2600"})},function(){t.css({background:"#3a3a3a",border:"1px solid #ffffff"})})},$(function(){(new Border).move()}),FastNews.prototype.show_detail=function(){var t=this;t.fast_news_detail1.click(function(){t.detail1.animate({height:"toggle"})}),t.fast_news_detail2.click(function(){t.detail2.animate({height:"toggle"})})},$(function(){(new FastNews).show_detail()}),ClickNavigation.prototype.change_border=function(){var t=window.location.href,e=window.location.protocol+"//"+window.location.host,i=t.replace(e,"");$(".navigation2 li").each(function(t,e){var o=$(e);if(o.children("a").attr("href")===i)return o.addClass("activate1"),!1})},$(function(){(new ClickNavigation).change_border()}),LoginIn.prototype.show_hide=function(){var t=this;t.login.hover(function(){t.more_box.show()},function(){t.more_box.hide()})},$(function(){(new LoginIn).show_hide()}),ClickNews.prototype.timeDate=function(){template.defaults.imports.dateTime=function(t){var e=new Date(t),o=e.getTime(),i=((new Date).getTime()-o)/1e3;return i<=60?"刚刚":60<i&&i<3600?parseInt(i/60)+"分钟前":60<=i&&i<86400?parseInt(i/3600)+"小时前":86400<=i&&i<=2592e3?parseInt(i/60/60/24)+"天前":e.getFullYear()+"-"+e.getMonth()+"-"+e.getDay()+" "+e.getHours()+":"+e.getMinutes()}},ClickNews.prototype.load_more_news=function(){var i=this;i.timeDate(),$("#load-more").click(function(){myajax.get({url:"/news/page_number/",data:{p:i.page,category_id:i.category},success:function(t){if(200===t.code){var e=t.data;if(0<e.length){var o=template("newses_list_group",{newses:e});$(".news_list").append(o),i.page++}else $("#load-more").hide()}}})})},ClickNews.prototype.listen_switch_category=function(){var n=this;n.span.click(function(){var a=$(this),r=a.attr("data-category_id");myajax.get({url:"/news/page_number/",data:{p:1,category_id:r},success:function(t){if(200===t.code){var e=t.data;if(0<e.length){var o=template("newses_list_group",{newses:e}),i=$(".news_list");n.category=r,i.empty(),i.append(o),a.addClass("activate3").siblings().removeClass("activate3"),n.page=2,$(".load_more").show()}else $("#load-more").hide()}}})})},ClickNews.prototype.run=function(){this.load_more_news(),this.listen_switch_category()},$(function(){(new ClickNews).run()}),CarouselMap.prototype.init_carousel_width=function(){var t=this;t.carousel_ul.css({width:t.content_left*t.li_count}),t.carousel_circle_ul.css({width:t.carousel_circle_width*t.li_count+t.carousel_circle_marginLeft*(2*t.li_count-1)})},CarouselMap.prototype.init_carousel=function(){for(var t=this,e=0;e<t.li_count;e++){var o=$("<li></li>");t.carousel_circle_ul.append(o),o.css({width:t.carousel_circle_width,height:t.carousel_circle_height,"border-radius":t.carousel_circle_height/2,"margin-left":t.carousel_circle_marginLeft}),0===e&&o.addClass("activate2")}},CarouselMap.prototype.circleControl=function(){var o=this;o.carousel_circle_ul.children("li").each(function(t,e){$(e).click(function(){o.i=t,o.move()})})},CarouselMap.prototype.whether_arrow=function(t){var e=this;t?(e.left_arrow.show(),e.right_arrow.show()):(e.left_arrow.hide(),e.right_arrow.hide())},CarouselMap.prototype.control_arrow=function(){var t=this;t.left_arrow.click(function(){0===t.i?t.i=t.li_count-1:t.i--,t.move()}),t.right_arrow.click(function(){t.i===t.li_count-1?t.i=0:t.i++,t.move()})},CarouselMap.prototype.stop=function(){var t=this;this.map.hover(function(){console.log("轮播停止了"),t.whether_arrow(!0),clearInterval(t.t)},function(){console.log("轮播图继续"),t.whether_arrow(!1),t.start_loop()})},CarouselMap.prototype.move=function(){this.carousel_ul.animate({left:-750*this.i},1e3),this.carousel_circle_ul.children("li").eq(this.i).addClass("activate2").siblings().removeClass("activate2")},CarouselMap.prototype.start_loop=function(){var t=this;this.t=setInterval(function(){t.i>=t.li_count-1?t.i=0:t.i++,t.move()},5e3)},CarouselMap.prototype.run=function(){this.init_carousel_width(),this.start_loop(),this.init_carousel(),this.circleControl(),this.stop(),this.control_arrow()},$(function(){(new CarouselMap).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIkNsYXNzQSIsImNvbnNvbGUiLCJsb2ciLCJ0aGlzIiwibG92ZSIsInByb3RvdHlwZSIsImRlZXAiLCJhIiwiQm9yZGVyIiwiRmFzdE5ld3MiLCJkZXRhaWwxIiwiJCIsImRldGFpbDIiLCJmYXN0X25ld3NfZGV0YWlsMSIsImZhc3RfbmV3c19kZXRhaWwyIiwiQ2xpY2tOYXZpZ2F0aW9uIiwiTG9naW5JbiIsImxvZ2luIiwibW9yZV9ib3giLCJDbGlja05ld3MiLCJuZXdzX3N0cmlwIiwic3BhbiIsImNoaWxkcmVuIiwiY2F0ZWdvcnkiLCJwYWdlIiwiQ2Fyb3VzZWxNYXAiLCJjb250ZW50X2xlZnQiLCJjYXJvdXNlbF9jaXJjbGVfd2lkdGgiLCJjYXJvdXNlbF9jaXJjbGVfaGVpZ2h0IiwiY2Fyb3VzZWxfY2lyY2xlX21hcmdpbkxlZnQiLCJtYXAiLCJsZWZ0X2Fycm93IiwicmlnaHRfYXJyb3ciLCJjYXJvdXNlbF91bCIsImNhcm91c2VsX2NpcmNsZV91bCIsInVsX2xpIiwibGlfY291bnQiLCJsZW5ndGgiLCJpIiwibW92ZSIsImJvcmRlcjEiLCJob3ZlciIsImNzcyIsImJhY2tncm91bmQiLCJib3JkZXIiLCJzaG93X2RldGFpbCIsInNlbGYiLCJjbGljayIsImFuaW1hdGUiLCJoZWlnaHQiLCJjaGFuZ2VfYm9yZGVyIiwidXJsIiwid2luZG93IiwibG9jYXRpb24iLCJocmVmIiwic2hvcnRfdXJsIiwicHJvdG9jb2wiLCJob3N0IiwicGF0aCIsInJlcGxhY2UiLCJlYWNoIiwibCIsInMiLCJ0aGlzX2xpIiwiYXR0ciIsImFkZENsYXNzIiwic2hvd19oaWRlIiwic2hvdyIsImhpZGUiLCJ0aW1lRGF0ZSIsInRlbXBsYXRlIiwiZGVmYXVsdHMiLCJpbXBvcnRzIiwiZGF0ZVRpbWUiLCJkYXRlIiwiZGF0ZXRpbWUiLCJEYXRlIiwibWlsbGlzZWNvbmQiLCJnZXRUaW1lIiwidGltZV9zaW5jZSIsInBhcnNlSW50IiwiZ2V0RnVsbFllYXIiLCJnZXRNb250aCIsImdldERheSIsImdldEhvdXJzIiwiZ2V0TWludXRlcyIsImxvYWRfbW9yZV9uZXdzIiwibXlhamF4IiwiZ2V0IiwiZGF0YSIsInAiLCJjYXRlZ29yeV9pZCIsInN1Y2Nlc3MiLCJyZXN1bHQiLCJuZXdzZXMiLCJ0ZW1wbGF0ZXMiLCJhcHBlbmQiLCJsaXN0ZW5fc3dpdGNoX2NhdGVnb3J5IiwibmV3c19saXN0IiwiZW1wdHkiLCJzaWJsaW5ncyIsInJlbW92ZUNsYXNzIiwicnVuIiwiaW5pdF9jYXJvdXNlbF93aWR0aCIsIndpZHRoIiwiaW5pdF9jYXJvdXNlbCIsIm4iLCJjaXJjbGUiLCJib3JkZXItcmFkaXVzIiwibWFyZ2luLWxlZnQiLCJjaXJjbGVDb250cm9sIiwicGljdHVyZSIsIndoZXRoZXJfYXJyb3ciLCJjb250cm9sX2Fycm93Iiwic3RvcCIsImNsZWFySW50ZXJ2YWwiLCJ0Iiwic3RhcnRfbG9vcCIsImxlZnQiLCJlcSIsInNldEludGVydmFsIl0sIm1hcHBpbmdzIjoiQUFHQSxTQUFTQSxTQUVMQyxRQUFRQyxJQUFJLGlCQUVaQyxLQUFLQyxLQUFPLGlCQVBoQkgsUUFBUUMsSUFBSSxlQVVaRixPQUFPSyxVQUFVQyxLQUFPLFdBQ3BCTCxRQUFRQyxJQUFJLDZCQUloQixJQUFJSyxFQUFJLElBQUlQLE9BT1osU0FBU1EsU0FDTFAsUUFBUUMsSUFBSSxVQWtCaEIsU0FBU08sV0FDTE4sS0FBS08sUUFBVUMsRUFBRSxZQUNqQlIsS0FBS1MsUUFBVUQsRUFBRSxZQUNqQlIsS0FBS1Usa0JBQW9CRixFQUFFLHNCQUMzQlIsS0FBS1csa0JBQW9CSCxFQUFFLHNCQW1CL0IsU0FBU0ksbUJBMkJULFNBQVNDLFVBQ0xiLEtBQUtjLE1BQVFOLEVBQUUsVUFDZlIsS0FBS2UsU0FBV1AsRUFBRSxhQWtCdEIsU0FBU1EsWUFDTGhCLEtBQUtpQixXQUFhVCxFQUFFLGVBQ3BCUixLQUFLa0IsS0FBT2xCLEtBQUtpQixXQUFXRSxTQUFTLFFBQ3JDbkIsS0FBS29C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LE1BQU0sV0FDaEJELEVBQUtSLElBQU1RLEVBQUtWLFNBQVcsRUFDMUJVLEVBQUtSLEVBQUksRUFFVFEsRUFBS1IsSUFFVFEsRUFBS1AsVUFLYmQsWUFBWXBCLFVBQVU2RyxLQUFPLFdBQ3pCLElBQUlwRSxFQUFPM0MsS0FDWEEsS0FBSzJCLElBQUlXLE1BQU0sV0FFWHhDLFFBQVFDLElBQUksU0FDWjRDLEVBQUtrRSxlQUFjLEdBQ25CRyxjQUFjckUsRUFBS3NFLElBQ3JCLFdBRUVuSCxRQUFRQyxJQUFJLFNBQ1o0QyxFQUFLa0UsZUFBYyxHQUNuQmxFLEVBQUt1RSxnQkFLYjVGLFlBQVlwQixVQUFVa0MsS0FBTyxXQUNkcEMsS0FDTjhCLFlBQVllLFFBQVEsQ0FBQ3NFLE1BQVEsSUFEdkJuSCxLQUNnQ21DLEdBQUksS0FEcENuQyxLQUVOK0IsbUJBQW1CWixTQUFTLE1BQU1pRyxHQUY1QnBILEtBRW9DbUMsR0FBRzJCLFNBQVMsYUFBYW1DLFdBQVdDLFlBQVksY0FJbkc1RSxZQUFZcEIsVUFBVWdILFdBQWEsV0FDL0IsSUFBSXZFLEVBQU8zQyxLQUNYQSxLQUFLaUgsRUFBSUksWUFBWSxXQUNiMUUsRUFBS1IsR0FBS1EsRUFBS1YsU0FBUyxFQUN4QlUsRUFBS1IsRUFBSSxFQUVUUSxFQUFLUixJQUVUUSxFQUFLUCxRQUNOLE1BSVBkLFlBQVlwQixVQUFVaUcsSUFBTSxXQUN4Qm5HLEtBQUtvRyxzQkFDTHBHLEtBQUtrSCxhQUNMbEgsS0FBS3NHLGdCQUNMdEcsS0FBSzJHLGdCQUNMM0csS0FBSytHLE9BQ0wvRyxLQUFLOEcsaUJBR1R0RyxFQUFFLFlBQ2MsSUFBSWMsYUFDVjZFIiwiZmlsZSI6ImluZGV4Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnNvbGUubG9nKFwiaGVsbG8gd29ybGRcIik7XHJcblxyXG4vLyDpnaLlkJHlr7nosaFcclxuZnVuY3Rpb24gQ2xhc3NBKCkge1xyXG4gICAgLy8g55u45b2T5LqOUHl0aG9u5Lit6Z2i5ZCR5a+56LGh55qEY2xhc3PkuK3nmoTmnoTpgKDlh73mlbBfX2luaXRfX1xyXG4gICAgY29uc29sZS5sb2coXCJoZWxsbyBzb25neXVlXCIpO1xyXG4gICAgLy8g57uR5a6a5YWz6ZSu5a2XIOmAmui/h3RoaXNcclxuICAgIHRoaXMubG92ZSA9IFwiSSBsb3ZlIFNvbmdZdWVcIlxyXG59XHJcbi8vIOe7keWumuaWueazlVxyXG5DbGFzc0EucHJvdG90eXBlLmRlZXAgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcIkkgbG92ZSBTb25nWXVlIHZlcnkgbXVjaFwiKVxyXG59O1xyXG5cclxuLy8g6LCD55SoQ2xhc3NBXHJcbnZhciBhID0gbmV3IENsYXNzQSgpO1xyXG4vLyDosIPnlKjlhbPplK7lrZdcclxuY29uc29sZS5sb2coYS5sb3ZlKTtcclxuLy8g6LCD55So5pa55rOVXHJcbmEuZGVlcCgpO1xyXG5cclxuLy8g5a+86Iiq6YeM55qE5oql6YGT56e75YWl5LqL5Lu2XHJcbmZ1bmN0aW9uIEJvcmRlcigpIHtcclxuICAgIGNvbnNvbGUubG9nKFwic2VhcmNoXCIpO1xyXG59XHJcbkJvcmRlci5wcm90b3R5cGUubW92ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBib3JkZXIxID0gJChcIiNib3JkZXIxXCIpO1xyXG4gICAgYm9yZGVyMS5ob3ZlcihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJhYWFcIik7XHJcbiAgICAgICAgYm9yZGVyMS5jc3MoeydiYWNrZ3JvdW5kJzonI2ZmMjYwMCcsICdib3JkZXInOiAnMXB4IHNvbGlkICNmZjI2MDAnfSk7XHJcbiAgICB9LGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBib3JkZXIxLmNzcyh7J2JhY2tncm91bmQnOicjM2EzYTNhJywgJ2JvcmRlcic6ICcxcHggc29saWQgI2ZmZmZmZid9KVxyXG4gICAgfSk7XHJcbn07XHJcblxyXG4kKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzID0gbmV3IEJvcmRlcigpO1xyXG4gICAgcy5tb3ZlKCk7XHJcbn0pO1xyXG5cclxuLy8g5b+r6K6v54K55Ye75LqL5Lu2XHJcbmZ1bmN0aW9uIEZhc3ROZXdzKCkge1xyXG4gICAgdGhpcy5kZXRhaWwxID0gJChcIi5kZXRhaWwxXCIpO1xyXG4gICAgdGhpcy5kZXRhaWwyID0gJChcIi5kZXRhaWwyXCIpO1xyXG4gICAgdGhpcy5mYXN0X25ld3NfZGV0YWlsMSA9ICQoXCIuZmFzdF9uZXdzX2RldGFpbDFcIik7XHJcbiAgICB0aGlzLmZhc3RfbmV3c19kZXRhaWwyID0gJChcIi5mYXN0X25ld3NfZGV0YWlsMlwiKTtcclxufVxyXG5cclxuRmFzdE5ld3MucHJvdG90eXBlLnNob3dfZGV0YWlsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi5mYXN0X25ld3NfZGV0YWlsMS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2VsZi5kZXRhaWwxLmFuaW1hdGUoe1wiaGVpZ2h0XCI6ICd0b2dnbGUnfSlcclxuICAgIH0pO1xyXG4gICAgc2VsZi5mYXN0X25ld3NfZGV0YWlsMi5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2VsZi5kZXRhaWwyLmFuaW1hdGUoe1wiaGVpZ2h0XCI6ICd0b2dnbGUnfSlcclxuICAgIH0pXHJcbn07XHJcblxyXG4kKGZ1bmN0aW9uICgpIHtcclxuICAgdmFyIGZhc3RuZXdzID0gbmV3IEZhc3ROZXdzKCk7XHJcbiAgIGZhc3RuZXdzLnNob3dfZGV0YWlsKCk7XHJcbn0pO1xyXG5cclxuLy8g5a+86Iiq5p2h54K55Ye75LqL5Lu2XHJcbmZ1bmN0aW9uIENsaWNrTmF2aWdhdGlvbigpIHtcclxufVxyXG5cclxuQ2xpY2tOYXZpZ2F0aW9uLnByb3RvdHlwZS5jaGFuZ2VfYm9yZGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHVybCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmOyAvLyBodHRwOi8vMTI3LjAuMC4xOjgwMDAvXHJcbiAgICB2YXIgcHJvdG9jb2wgPSB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2w7IC8vIGh0dHA6XHJcbiAgICB2YXIgaG9zdCA9IHdpbmRvdy5sb2NhdGlvbi5ob3N0OyAvLyAxMjcuMC4wLjE6ODAwMFxyXG4gICAgdmFyIHNob3J0X3VybCA9IHByb3RvY29sICsgXCIvL1wiICsgaG9zdDtcclxuICAgIHZhciBwYXRoID0gdXJsLnJlcGxhY2Uoc2hvcnRfdXJsLFwiXCIpO1xyXG4gICAgdmFyIGxpID0gJChcIi5uYXZpZ2F0aW9uMiBsaVwiKTtcclxuICAgIGxpLmVhY2goZnVuY3Rpb24gKGwscykge1xyXG4gICAgICAgIHZhciB0aGlzX2xpID0gJChzKTtcclxuICAgICAgICB2YXIgdGhpc19hID0gdGhpc19saS5jaGlsZHJlbihcImFcIik7XHJcbiAgICAgICAgdmFyIGhyZWYgPSB0aGlzX2EuYXR0cihcImhyZWZcIik7XHJcbiAgICAgICAgaWYgKGhyZWYgPT09IHBhdGgpIHtcclxuICAgICAgICAgICAgdGhpc19saS5hZGRDbGFzcyhcImFjdGl2YXRlMVwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbn07XHJcblxyXG4kKGZ1bmN0aW9uICgpIHtcclxuICAgdmFyIHQgPSBuZXcgQ2xpY2tOYXZpZ2F0aW9uKCk7XHJcbiAgIHQuY2hhbmdlX2JvcmRlcigpO1xyXG59KTtcclxuXHJcbi8vIOeZu+mZhuWQjuenu+WFpeeUqOaIt+WQjeaYvuekuuS6i+S7tlxyXG5mdW5jdGlvbiBMb2dpbkluKCkge1xyXG4gICAgdGhpcy5sb2dpbiA9ICQoXCIubG9naW5cIik7XHJcbiAgICB0aGlzLm1vcmVfYm94ID0gJChcIi5tb3JlLWJveFwiKVxyXG59XHJcblxyXG5Mb2dpbkluLnByb3RvdHlwZS5zaG93X2hpZGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLmxvZ2luLmhvdmVyKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzZWxmLm1vcmVfYm94LnNob3coKVxyXG4gICAgfSxmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2VsZi5tb3JlX2JveC5oaWRlKClcclxuICAgIH0pXHJcbn07XHJcblxyXG4kKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBsb2dpbjEgPSBuZXcgTG9naW5JbigpO1xyXG4gICAgbG9naW4xLnNob3dfaGlkZSgpXHJcbn0pO1xyXG5cclxuLy8g5bem6L655paw6Ze75a+86Iiq54K55Ye75LqL5Lu2XHJcbmZ1bmN0aW9uIENsaWNrTmV3cygpIHtcclxuICAgIHRoaXMubmV3c19zdHJpcCA9ICQoXCIubmV3c19zdHJpcFwiKTtcclxuICAgIHRoaXMuc3BhbiA9IHRoaXMubmV3c19zdHJpcC5jaGlsZHJlbihcInNwYW5cIik7XHJcbiAgICB0aGlzLmNhdGVnb3J5ID0gMDtcclxuICAgIHRoaXMucGFnZSA9IDJcclxufVxyXG5cclxuQ2xpY2tOZXdzLnByb3RvdHlwZS50aW1lRGF0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHRlbXBsYXRlLmRlZmF1bHRzLmltcG9ydHMuZGF0ZVRpbWUgPSBmdW5jdGlvbiAoZGF0ZSkge1xyXG4gICAgICAgIHZhciBkYXRldGltZSA9IG5ldyBEYXRlKGRhdGUpO1xyXG4gICAgICAgIHZhciBtaWxsaXNlY29uZCA9IGRhdGV0aW1lLmdldFRpbWUoKTsgLy8g5b6X5Yiw5q+r56eS5pe26Ze0XHJcbiAgICAgICAgdmFyIHRpbWVzdGFtcCA9IChuZXcgRGF0ZSgpKS5nZXRUaW1lKCk7IC8vIOW+l+WIsOW9k+WJjeaXtumXtOeahOaXtumXtOaIs1xyXG4gICAgICAgIHZhciB0aW1lX3NpbmNlID0gKHRpbWVzdGFtcCAtIG1pbGxpc2Vjb25kKS8xMDAwOyAvLyDlvpfliLDlj5HluIPnmoTml7bpl7Tlt67np5LmlbBcclxuICAgICAgICBpZiAodGltZV9zaW5jZSA8PSA2MCkge1xyXG4gICAgICAgICAgICByZXR1cm4gXCLliJrliJpcIlxyXG4gICAgICAgIH0gZWxzZSBpZiAodGltZV9zaW5jZSA+IDYwICYmIHRpbWVfc2luY2UgPCA2MCo2MCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQodGltZV9zaW5jZS82MCkgKyBcIuWIhumSn+WJjVwiXHJcbiAgICAgICAgfSBlbHNlIGlmICh0aW1lX3NpbmNlID49IDYwICYmIHRpbWVfc2luY2UgPCA2MCo2MCoyNCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQodGltZV9zaW5jZS8zNjAwKSArIFwi5bCP5pe25YmNXCJcclxuICAgICAgICB9IGVsc2UgaWYgKHRpbWVfc2luY2UgPj0gMjQqNjAqNjAgJiYgdGltZV9zaW5jZSA8PSAyNCo2MCo2MCozMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQodGltZV9zaW5jZS82MC82MC8yNCkgKyBcIuWkqeWJjVwiXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdmFyIHllYXIgPSBkYXRldGltZS5nZXRGdWxsWWVhcigpO1xyXG4gICAgICAgICAgICB2YXIgbW9udGggPSBkYXRldGltZS5nZXRNb250aCgpO1xyXG4gICAgICAgICAgICB2YXIgZGF5ID0gZGF0ZXRpbWUuZ2V0RGF5KCk7XHJcbiAgICAgICAgICAgIHZhciBob3VycyA9IGRhdGV0aW1lLmdldEhvdXJzKCk7XHJcbiAgICAgICAgICAgIHZhciBtaW51dGVzID0gZGF0ZXRpbWUuZ2V0TWludXRlcygpO1xyXG4gICAgICAgICAgICByZXR1cm4geWVhciArIFwiLVwiICsgbW9udGggKyBcIi1cIiArIGRheSArIFwiIFwiICsgaG91cnMgKyBcIjpcIiArIG1pbnV0ZXM7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufTtcclxuXHJcbkNsaWNrTmV3cy5wcm90b3R5cGUubG9hZF9tb3JlX25ld3MgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLnRpbWVEYXRlKCk7XHJcbiAgICAkKFwiI2xvYWQtbW9yZVwiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgbXlhamF4LmdldCh7XHJcbiAgICAgICAgICAgICd1cmwnOiAnL25ld3MvcGFnZV9udW1iZXIvJyxcclxuICAgICAgICAgICAgJ2RhdGEnOiB7J3AnOiBzZWxmLnBhZ2UsICdjYXRlZ29yeV9pZCc6IHNlbGYuY2F0ZWdvcnl9LFxyXG4gICAgICAgICAgICAnc3VjY2Vzcyc6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRbXCJjb2RlXCJdID09PSAyMDApIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3c2VzID0gcmVzdWx0W1wiZGF0YVwiXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobmV3c2VzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXBsYXRlcyA9IHRlbXBsYXRlKFwibmV3c2VzX2xpc3RfZ3JvdXBcIiwge1wibmV3c2VzXCI6IG5ld3Nlc30pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiLm5ld3NfbGlzdFwiKS5hcHBlbmQodGVtcGxhdGVzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wYWdlICsrIDtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiI2xvYWQtbW9yZVwiKS5oaWRlKClcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfSlcclxufTtcclxuXHJcbkNsaWNrTmV3cy5wcm90b3R5cGUubGlzdGVuX3N3aXRjaF9jYXRlZ29yeSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYuc3Bhbi5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHNwYW4gPSAkKHRoaXMpO1xyXG4gICAgICAgIHZhciBjYXRlZ29yeV9pZCA9IHNwYW4uYXR0cihcImRhdGEtY2F0ZWdvcnlfaWRcIik7XHJcbiAgICAgICAgdmFyIHBhZ2UgPSAxO1xyXG4gICAgICAgIG15YWpheC5nZXQoe1xyXG4gICAgICAgICAgICAndXJsJzogJy9uZXdzL3BhZ2VfbnVtYmVyLycsXHJcbiAgICAgICAgICAgICdkYXRhJzogeydwJzogcGFnZSwgXCJjYXRlZ29yeV9pZFwiOiBjYXRlZ29yeV9pZH0sXHJcbiAgICAgICAgICAgICdzdWNjZXNzJzogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdFtcImNvZGVcIl0gPT09IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdzZXMgPSByZXN1bHRbXCJkYXRhXCJdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdzZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcGxhdGVzID0gdGVtcGxhdGUoXCJuZXdzZXNfbGlzdF9ncm91cFwiLCB7XCJuZXdzZXNcIjogbmV3c2VzfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXdzX2xpc3QgPSAkKFwiLm5ld3NfbGlzdFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jYXRlZ29yeSA9IGNhdGVnb3J5X2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdzX2xpc3QuZW1wdHkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3c19saXN0LmFwcGVuZCh0ZW1wbGF0ZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzcGFuLmFkZENsYXNzKFwiYWN0aXZhdGUzXCIpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoXCJhY3RpdmF0ZTNcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucGFnZSA9IDI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoXCIubG9hZF9tb3JlXCIpLnNob3coKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiI2xvYWQtbW9yZVwiKS5oaWRlKClcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfSlcclxufTtcclxuXHJcbkNsaWNrTmV3cy5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi5sb2FkX21vcmVfbmV3cygpO1xyXG4gICAgc2VsZi5saXN0ZW5fc3dpdGNoX2NhdGVnb3J5KCk7XHJcbn07XHJcblxyXG4kKGZ1bmN0aW9uICgpIHtcclxuICAgdmFyIHMgPSBuZXcgQ2xpY2tOZXdzKCk7XHJcbiAgIHMucnVuKCk7XHJcbn0pO1xyXG5cclxuXHJcbi8vIOaOp+WItui9ruaSreS7peWPiuWug+eahOWBnOatouS4juW8gOWni1xyXG5mdW5jdGlvbiBDYXJvdXNlbE1hcCgpIHtcclxuICAgIGNvbnNvbGUubG9nKFwi6L2u5pKt5Zu+5byA5aeL5LqGXCIpO1xyXG4gICAgdGhpcy5jb250ZW50X2xlZnQgPSA3NTA7ICAvLyDova7mkq3lm77nmoTlrr3luqZcclxuICAgIHRoaXMuY2Fyb3VzZWxfY2lyY2xlX3dpZHRoID0gMTU7IC8vIOWchuWciOeahOWuveW6plxyXG4gICAgdGhpcy5jYXJvdXNlbF9jaXJjbGVfaGVpZ2h0ID0gMTU7IC8vIOWchuWciOeahOmrmOW6plxyXG4gICAgdGhpcy5jYXJvdXNlbF9jaXJjbGVfbWFyZ2luTGVmdCA9IDE2OyAvL+WchuWciOS5i+mXtOeahOmXtOi3nVxyXG4gICAgdGhpcy5tYXAgPSAkKFwiLmNhcm91c2VsX21hcFwiKTsgLy/mlbTkuKrova7mkq3lm75cclxuICAgIHRoaXMubGVmdF9hcnJvdyA9ICQoXCIubGVmdF9hcnJvd1wiKTsgLy8g5bem566t5aS0XHJcbiAgICB0aGlzLnJpZ2h0X2Fycm93ID0gJChcIi5yaWdodF9hcnJvd1wiKTsgLy8g5Y+z566t5aS0XHJcbiAgICB0aGlzLmNhcm91c2VsX3VsID0gJChcIiNjYXJvdXNlbF91bFwiKTsgLy8g55S75biDdWxcclxuICAgIHRoaXMuY2Fyb3VzZWxfY2lyY2xlX3VsID0gJChcIi5jYXJvdXNlbF9jaXJjbGVfdWxcIik7IC8vIOWchuWciHVsXHJcbiAgICB0aGlzLnVsX2xpID0gdGhpcy5jYXJvdXNlbF91bC5jaGlsZHJlbihcImxpXCIpOyAvLyDnlLvluINsaVxyXG4gICAgdGhpcy5saV9jb3VudCA9IHRoaXMudWxfbGkubGVuZ3RoOyAvLyDnlLvluIPmlbDph49cclxuICAgIHRoaXMuaSA9IDA7ICAvLyDnlLvluIPlvIDlp4vnmoTotbflp4vlgLxcclxufVxyXG5cclxuLy8g6K6+572uIOi9ruaSreWbvueahOWuveW6puS7peWPiuaVtOS9k+WchueCueeahOWuveW6plxyXG5DYXJvdXNlbE1hcC5wcm90b3R5cGUuaW5pdF9jYXJvdXNlbF93aWR0aCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYuY2Fyb3VzZWxfdWwuY3NzKHsnd2lkdGgnOiBzZWxmLmNvbnRlbnRfbGVmdCpzZWxmLmxpX2NvdW50fSk7XHJcbiAgICBzZWxmLmNhcm91c2VsX2NpcmNsZV91bC5jc3Moeyd3aWR0aCc6IHNlbGYuY2Fyb3VzZWxfY2lyY2xlX3dpZHRoKnNlbGYubGlfY291bnQgKyBzZWxmLmNhcm91c2VsX2NpcmNsZV9tYXJnaW5MZWZ0KihzZWxmLmxpX2NvdW50KjItMSl9KTtcclxufTtcclxuXHJcbi8vIOiuvue9rui9ruaSreWbvueahOWwj+WchueCuWxp5pWw6YePXHJcbkNhcm91c2VsTWFwLnByb3RvdHlwZS5pbml0X2Nhcm91c2VsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgZm9yICh2YXIgbiA9IDA7IG4gPCBzZWxmLmxpX2NvdW50OyBuKyspe1xyXG4gICAgICAgIHZhciBjaXJjbGUgPSAkKFwiPGxpPjwvbGk+XCIpO1xyXG4gICAgICAgIHNlbGYuY2Fyb3VzZWxfY2lyY2xlX3VsLmFwcGVuZChjaXJjbGUpO1xyXG4gICAgICAgIGNpcmNsZS5jc3Moe1xyXG4gICAgICAgICAgICAnd2lkdGgnOiBzZWxmLmNhcm91c2VsX2NpcmNsZV93aWR0aCxcclxuICAgICAgICAgICAgJ2hlaWdodCc6IHNlbGYuY2Fyb3VzZWxfY2lyY2xlX2hlaWdodCxcclxuICAgICAgICAgICAgJ2JvcmRlci1yYWRpdXMnOiBzZWxmLmNhcm91c2VsX2NpcmNsZV9oZWlnaHQvMixcclxuICAgICAgICAgICAgJ21hcmdpbi1sZWZ0Jzogc2VsZi5jYXJvdXNlbF9jaXJjbGVfbWFyZ2luTGVmdFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChuID09PSAwKXtcclxuICAgICAgICAgICAgY2lyY2xlLmFkZENsYXNzKFwiYWN0aXZhdGUyXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuXHJcbi8vIOWunueOsOWchueCueWSjOWbvueJh+S4gOiHtCDku6Xlj4rngrnlh7vkuIDoh7RcclxuQ2Fyb3VzZWxNYXAucHJvdG90eXBlLmNpcmNsZUNvbnRyb2wgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLmNhcm91c2VsX2NpcmNsZV91bC5jaGlsZHJlbihcImxpXCIpLmVhY2goZnVuY3Rpb24gKGksIHBpY3R1cmUpIHtcclxuICAgICAgICAkKHBpY3R1cmUpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgc2VsZi5pID0gaTtcclxuICAgICAgICAgICAgc2VsZi5tb3ZlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcbi8vIOeureWktOeahOWHuueOsOS7peWPiumakOiXj1xyXG5DYXJvdXNlbE1hcC5wcm90b3R5cGUud2hldGhlcl9hcnJvdyA9IGZ1bmN0aW9uIChzaG93KSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBpZiAoc2hvdyl7XHJcbiAgICAgICAgc2VsZi5sZWZ0X2Fycm93LnNob3coKTtcclxuICAgICAgICBzZWxmLnJpZ2h0X2Fycm93LnNob3coKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc2VsZi5sZWZ0X2Fycm93LmhpZGUoKTtcclxuICAgICAgICBzZWxmLnJpZ2h0X2Fycm93LmhpZGUoKTtcclxuICAgIH1cclxufTtcclxuXHJcbkNhcm91c2VsTWFwLnByb3RvdHlwZS5jb250cm9sX2Fycm93ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgLy8g5a6e546w54K55Ye7566t5aS05YiH5o2i5Zu+54mH55qE5Yqf6IO9XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLmxlZnRfYXJyb3cuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmKHNlbGYuaSA9PT0gMCl7XHJcbiAgICAgICAgICAgIHNlbGYuaSA9IHNlbGYubGlfY291bnQgLSAxO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBzZWxmLmkgLS07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNlbGYubW92ZSgpO1xyXG4gICAgfSk7XHJcbiAgICBzZWxmLnJpZ2h0X2Fycm93LmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZihzZWxmLmkgPT09IHNlbGYubGlfY291bnQgLSAxKXtcclxuICAgICAgICAgICAgc2VsZi5pID0gMDtcclxuICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgIHNlbGYuaSArKztcclxuICAgICAgICB9XHJcbiAgICAgICAgc2VsZi5tb3ZlKCk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcbi8vIOenu+WFpei9ruaSreWbvuWBnOatoiDnp7vlvIDnu6fnu61cclxuQ2Fyb3VzZWxNYXAucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB0aGlzLm1hcC5ob3ZlcihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8g6byg5qCH56e75YWl5LqL5Lu2XHJcbiAgICAgICAgY29uc29sZS5sb2coXCLova7mkq3lgZzmraLkuoZcIik7XHJcbiAgICAgICAgc2VsZi53aGV0aGVyX2Fycm93KHRydWUpO1xyXG4gICAgICAgIGNsZWFySW50ZXJ2YWwoc2VsZi50KTtcclxuICAgIH0sZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIOm8oOagh+enu+WHuuS6i+S7tlxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwi6L2u5pKt5Zu+57un57utXCIpO1xyXG4gICAgICAgIHNlbGYud2hldGhlcl9hcnJvdyhmYWxzZSk7XHJcbiAgICAgICAgc2VsZi5zdGFydF9sb29wKCk7XHJcbiAgICB9KVxyXG59O1xyXG5cclxuLy8g5a6e546w55S75biD55qE5ZCR5bem5rua5YqoXHJcbkNhcm91c2VsTWFwLnByb3RvdHlwZS5tb3ZlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi5jYXJvdXNlbF91bC5hbmltYXRlKHtcImxlZnRcIjotNzUwKnNlbGYuaX0sIDEwMDApO1xyXG4gICAgc2VsZi5jYXJvdXNlbF9jaXJjbGVfdWwuY2hpbGRyZW4oXCJsaVwiKS5lcShzZWxmLmkpLmFkZENsYXNzKFwiYWN0aXZhdGUyXCIpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoXCJhY3RpdmF0ZTJcIilcclxufTtcclxuXHJcbi8vIOWunueOsOeUu+W4g+eahOiDveadpeWbnua7muWKqOi1t+adpVxyXG5DYXJvdXNlbE1hcC5wcm90b3R5cGUuc3RhcnRfbG9vcCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHRoaXMudCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoc2VsZi5pID49IHNlbGYubGlfY291bnQtMSl7XHJcbiAgICAgICAgICAgIHNlbGYuaSA9IDBcclxuICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgIHNlbGYuaSsrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzZWxmLm1vdmUoKTtcclxuICAgIH0sIDUwMDApO1xyXG59O1xyXG5cclxuLy8g6L+Q6KGM5Ye95pWwXHJcbkNhcm91c2VsTWFwLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB0aGlzLmluaXRfY2Fyb3VzZWxfd2lkdGgoKTtcclxuICAgIHRoaXMuc3RhcnRfbG9vcCgpO1xyXG4gICAgdGhpcy5pbml0X2Nhcm91c2VsKCk7XHJcbiAgICB0aGlzLmNpcmNsZUNvbnRyb2woKTtcclxuICAgIHRoaXMuc3RvcCgpO1xyXG4gICAgdGhpcy5jb250cm9sX2Fycm93KCk7XHJcbiAgICB9O1xyXG5cclxuJChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc3RhcnQgPSBuZXcgQ2Fyb3VzZWxNYXAoKTtcclxuICAgIHN0YXJ0LnJ1bigpO1xyXG59KTtcclxuIl19
